# Disjoint-set (Система пересекающихся множеств)
```py
class DisjointSet:
    def __init__(self, n):
        self.parent = list(range(n))
        self.rank = [0] * n
        
    def find(self, x):
        if self.parent[x] != x:
            self.parent[x] = self.find(self.parent[x])
        return self.parent[x]
    
    def union(self, x, y):
        x_root = self.find(x)
        y_root = self.find(y)
        
        if self.rank[x_root] < self.rank[y_root]:
            self.parent[x_root] = y_root
        elif self.rank[x_root] > self.rank[y_root]:
            self.parent[y_root] = x_root
        else:
            self.parent[y_root] = x_root
            self.rank[x_root] += 1
            
    def connected(self, x, y):
        return self.find(x) == self.find(y)
```

Структура данных disjoint-set (также называемая структурой данных union-find) - это структура данных, которая отслеживает множество элементов, разбитых на несколько непересекающихся подмножеств.

# Некоторые ключевые моменты о структурах данных disjoint-set:

- Элементы разбиты на непересекающиеся подмножества. Каждый элемент принадлежит ровно одному подмножеству.

- Основными операциями являются:
    - find(x) - Найти подмножество, содержащее элемент x.
    - union(x, y) - объединить подмножества, содержащие x и y.
    - connected(x, y) - Проверить, принадлежат ли x и y одному и тому же подмножеству.
- Структуры данных Disjoint-set полезны для отслеживания связности в графах. Их можно использовать для обнаружения циклов в графах.

- Временная сложность операций зависит от реализации. Две распространенные реализации:
    - Быстрое нахождение - все операции выполняются за время O(1). Объединение происходит медленно, так как происходит переназначение всех элементов.
    - Быстрое объединение - поиск выполняется за время O(n), объединение и соединение - за время O(1). Медленные операции поиска.
    - Взвешенное быстрое объединение - Найти - O(logn) время, объединение и соединение - O(1) время. Использует ранг для балансировки дерева.
- Структуры данных disjoint-set используются для обнаружения циклов в графах, моделирования связности в сетях и выполнения алгоритма минимального дерева Крускала.

- Структура данных disjoint-set может быть реализована с использованием массива для представления элементов и хранения родителя и ранга каждого элемента.

- Неразделимые подмножества могут быть представлены с помощью деревьев, где каждый узел указывает на своего родителя. Корневой узел каждого дерева представляет подмножество.

- Временная сложность операций зависит от реализации. Быстрый поиск имеет время O(1), но медленное объединение. Взвешенное быстрое объединение имеет время O(logn) и быстрое объединение.

- Значение ранга используется для поддержания баланса деревьев, поэтому высота любого дерева равна O(logn). Это приводит к временной сложности O(logn).